{% extends "base.html" %}

{% block title %}Agregar Aviso de Adopción{% endblock %}

{% block content %}
<main>
  <h2>Agregar Aviso de Adopción</h2>

  <form id="form-aviso" name="miFormulario" method="POST" enctype="multipart/form-data">
    <fieldset>
      <legend>¿Dónde?</legend>

      <label for="region">Región*:</label>
      <select id="region" name="region" required>
        <option value="">Seleccione región</option>
        {% for r in regiones %}
          <option value="{{ r.id }}">{{ r.nombre }}</option>
        {% endfor %}
      </select>

      <br><br>

      <label for="comuna">Comuna*:</label>
      <select id="comuna" name="comuna" required>
        <option value="">Seleccione comuna</option>
      </select>

      <br><br>

      <label for="sector">Sector:</label>
      <input type="text" id="sector" name="sector" maxlength="100">
    </fieldset>

    <fieldset>
      <legend>¿Contacto de esta publicación?</legend>

      <label for="nombre">Nombre*:</label>
      <input type="text" id="nombre" name="nombre" required>

      <br><br>

      <label for="email">Correo electrónico*:</label>
      <input type="email" id="email" name="email" required>

      <br><br>

      <label for="celular">Número de celular:</label>
      <input type="tel" id="celular" name="celular" placeholder="+569.12345678">

      <br><br>

      <label for="contactar">Medio de contacto:</label>
      <select id="contactar" name="contactar">
        <option value="">Seleccione</option>
        <option value="whatsapp">WhatsApp</option>
        <option value="telegram">Telegram</option>
        <option value="x">X</option>
        <option value="instagram">Instagram</option>
        <option value="tiktok">TikTok</option>
        <option value="otra">Otra</option>
      </select>

      <br><br>

      <div id="contacto-container" hidden>
        <label for="contactoID">ID o URL de red social:</label>
        <input type="text" id="contactoID" name="contactoID">
      </div>
    </fieldset>

    <fieldset>
      <legend>¿Qué mascota ofrece en adopción?</legend>

      <label for="tipo">Tipo*:</label>
      <select id="tipo" name="tipo" required>
        <option value="">Seleccione</option>
        <option value="gato">Gato</option>
        <option value="perro">Perro</option>
      </select>

      <br><br>

      <label for="cantidad">Cantidad*:</label>
      <input type="number" id="cantidad" name="cantidad" min="1" required>

      <br><br>

      <label for="edad">Edad*:</label>
      <input type="number" id="edad" name="edad" min="1" required>

      <br><br>
      
      <label for="unidadEdad">Unidad de edad*:</label>
      <select id="unidadEdad" name="unidadEdad" required>
        <option value="m">Meses</option>
        <option value="a">Años</option>
      </select>

      <br><br>

      <label for="fechaEntrega">Fecha disponible*:</label>
      <input type="datetime-local" id="fechaEntrega" name="fechaEntrega" required>

      <br><br>

      <div id="fotos-container">
        <label for="foto-1">Foto 1*:</label>
        <input type="file" id="foto-1" name="foto" accept="image/*" required>
      </div>
      <button type="button" id="btn-agregar-foto">Agregar otra foto</button>

      <br><br>

      <label for="descripcion">Descripción:</label><br>
      <textarea id="descripcion" name="descripcion" cols="50" rows="5"></textarea>
    </fieldset>

    <br>
    <div id="val-box" hidden>
      <h2 id="val-msg"></h2>
      <ul id="val-list"></ul>
    </div>
    <br>
    <button id="enviar" type="submit">Agregar este aviso de adopción</button>
  </form>
</main>

<script src="{{ url_for('static', filename='js/validaciones.js') }}"></script>
<script src="{{ url_for('static', filename='js/select.js') }}"></script>
<script src="{{ url_for('static', filename='js/region_comuna.js') }}"></script>
{% endblock %}

